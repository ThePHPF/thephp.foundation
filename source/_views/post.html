{% extends "default" %}

{% block head_meta %}
    <meta name="robots" content="index, follow">
{% endblock %}

{% block content_wrapper %}
<main class="flex flex-row justify-center min-w-[320px] min-h-[100vh] w-full pt-4">
    <article class="max-w-2xl w-full bg-white px-4 md:px-0">
        <header class="mb-8">
            <h1 class="">{{ page.title|raw }}</h1>

            {% if page.author is defined%}
            <div class="text-xs">
				Published on <span>{{ page.published_at|date("M d, Y") }}</span>
				by <a href="{{ page.author.url }}">{{ page.author.name }}</a>
            </div>
            {% endif %}
        </header>

        <section class="main_body">
            {{ page.blocks.content|raw }}
        </section>

        {% if page.previous_post or page.next_post %}
        <nav class="flex flex-row items-center justify-center mt-4 article">
            <ul class="list-none">
                {% if page.next_post %}
                    <li>Next: <a class="next" href="{{ site.url }}{{ page.next_post.url }}" title="{{ page.next_post.title|raw }}"><span class="title">{{ page.next_post.title|raw }}</span></a></li>
                {% endif %}
                {% if page.previous_post %}
                    <li>Previous: <a class="previous" href="{{ site.url }}{{ page.previous_post.url }}" title="{{ page.previous_post.title|raw }}"><span class="title">{{ page.previous_post.title|raw }}</span></a></li>
                {% endif %}
            </ul>
        </nav>
        {% endif %}
    </article>
</main>
{% endblock %}

{% block head_scripts %}
<script src="//cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>
{% endblock %}

{% block scripts %}
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const anchors = new AnchorJS()
    anchors.add()

    for (const element of document.getElementsByClassName('anchorjs-link')) {
      element.addEventListener('click', function () {
        navigator.clipboard.writeText(window.location.origin + window.location.pathname + element.getAttribute('href'))
      })
    }
  })
</script>
{% endblock %}
